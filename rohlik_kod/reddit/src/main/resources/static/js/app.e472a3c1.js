(function(t){function e(e){for(var o,s,c=e[0],u=e[1],l=e[2],f=0,p=[];f<c.length;f++)s=c[f],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&p.push(r[s][0]),r[s]=0;for(o in u)Object.prototype.hasOwnProperty.call(u,o)&&(t[o]=u[o]);a&&a(e);while(p.length)p.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],o=!0,c=1;c<n.length;c++){var u=n[c];0!==r[u]&&(o=!1)}o&&(i.splice(e--,1),t=s(s.s=n[0]))}return t}var o={},r={app:0},i=[];function s(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=o,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)s.d(n,o,function(e){return t[e]}.bind(null,o));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var a=u;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"02c2":function(t,e,n){},"50f2":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("7a23");function r(t,e,n,r,i,s){var c=Object(o["i"])("MainPage");return Object(o["g"])(),Object(o["c"])(c,{msg:"Welcome to Your Vue.js App"})}var i=n("8296"),s=n.n(i),c=n("b096"),u=n.n(c),l=n("8242"),a=n.n(l),f=n("aeba"),p=n.n(f),d={class:"hello"},h={style:{}},b={key:0},g=Object(o["e"])("Logged in as "),m={key:1,id:"user-login"},j=Object(o["f"])("header",{class:"header",style:{"background-color":"#a3e58f",margin:"0"}},[Object(o["f"])("a",{href:"/"},[Object(o["f"])("h1",null,"Green Reddit")])],-1),O={id:"login",class:"new"},v=Object(o["f"])("h2",null,"Login",-1),w={class:"form-group"},y=Object(o["f"])("label",{for:"url"},"Username",-1),k={class:"form-group"},C=Object(o["f"])("label",{for:"title"},"Password",-1),P={id:"register",class:"new"},F=Object(o["f"])("h2",null,"Register",-1),x={class:"form-group"},R=Object(o["f"])("label",{for:"url"},"Username",-1),U={class:"form-group"},S=Object(o["f"])("label",{for:"title"},"Password",-1),M={id:"new",class:"new"},$={class:"form-group"},V=Object(o["f"])("label",{for:"url"},"url",-1),L={class:"form-group"},q=Object(o["f"])("label",{for:"title"},[Object(o["f"])("span",null,"*"),Object(o["e"])("title")],-1),I={class:"number"},A={class:"score"},_={class:"content"},E={key:1},D=Object(o["e"])(" | "),J=Object(o["e"])(" | ");function T(t,e,n,r,i,c){return Object(o["g"])(),Object(o["c"])("div",d,[Object(o["f"])("nav",h,[c.loggedIn?(Object(o["g"])(),Object(o["c"])("span",b,[Object(o["f"])("span",null,[g,Object(o["f"])("strong",null,Object(o["j"])(t.user),1)]),Object(o["f"])("a",{href:"#",onClick:e[1]||(e[1]=function(){return c.logout&&c.logout.apply(c,arguments)})},"Logout")])):(Object(o["g"])(),Object(o["c"])("span",m,[Object(o["f"])("a",{href:"#",onClick:e[2]||(e[2]=function(e){c.hideForms(),t.formShowing.register=!0})},"Register"),Object(o["f"])("a",{href:"#",onClick:e[3]||(e[3]=function(e){c.hideForms(),t.formShowing.login=!0})},"Login")])),Object(o["f"])("a",{onClick:e[4]||(e[4]=function(e){c.hideForms(),t.formShowing.addPost=!0}),href:"#"},"Add new post")]),j,Object(o["f"])("main",null,[Object(o["m"])(Object(o["f"])("div",O,[Object(o["f"])("form",null,[v,Object(o["f"])("div",w,[y,Object(o["m"])(Object(o["f"])("input",{type:"text","onUpdate:modelValue":e[5]||(e[5]=function(e){return t.loginForm.username=e}),name:"username"},null,512),[[o["k"],t.loginForm.username]])]),Object(o["f"])("div",k,[C,Object(o["m"])(Object(o["f"])("input",{type:"password","onUpdate:modelValue":e[6]||(e[6]=function(e){return t.loginForm.password=e}),name:"password"},null,512),[[o["k"],t.loginForm.password]])]),Object(o["f"])("input",{type:"button",value:"Login",onClick:e[7]||(e[7]=function(){return c.submitLogin&&c.submitLogin.apply(c,arguments)})})])],512),[[o["l"],t.formShowing.login]]),Object(o["m"])(Object(o["f"])("div",P,[Object(o["f"])("form",null,[F,Object(o["f"])("div",x,[R,Object(o["m"])(Object(o["f"])("input",{type:"text","onUpdate:modelValue":e[8]||(e[8]=function(e){return t.registerForm.username=e}),name:"username"},null,512),[[o["k"],t.registerForm.username]])]),Object(o["f"])("div",U,[S,Object(o["m"])(Object(o["f"])("input",{type:"password","onUpdate:modelValue":e[9]||(e[9]=function(e){return t.registerForm.password=e}),name:"password"},null,512),[[o["k"],t.registerForm.password]])]),Object(o["f"])("input",{type:"button",value:"Register",onClick:e[10]||(e[10]=function(){return c.submitRegistration&&c.submitRegistration.apply(c,arguments)})})])],512),[[o["l"],t.formShowing.register]]),Object(o["m"])(Object(o["f"])("div",M,[Object(o["f"])("form",null,[Object(o["f"])("div",$,[V,Object(o["m"])(Object(o["f"])("input",{type:"text","onUpdate:modelValue":e[11]||(e[11]=function(e){return t.addPostForm.url=e}),name:"url"},null,512),[[o["k"],t.addPostForm.url]])]),Object(o["f"])("div",L,[q,Object(o["m"])(Object(o["f"])("input",{type:"text","onUpdate:modelValue":e[12]||(e[12]=function(e){return t.addPostForm.title=e}),name:"title"},null,512),[[o["k"],t.addPostForm.title]])]),Object(o["f"])("input",{type:"button",value:"Submit post",onClick:e[13]||(e[13]=function(){return c.submitPost&&c.submitPost.apply(c,arguments)})})])],512),[[o["l"],t.formShowing.addPost]]),(Object(o["g"])(!0),Object(o["c"])(o["a"],null,Object(o["h"])(t.posts,(function(t,e){return Object(o["g"])(),Object(o["c"])("article",{key:t.id},[Object(o["f"])("div",I,Object(o["j"])(e+1),1),Object(o["f"])("div",A,[1==t.vote?(Object(o["g"])(),Object(o["c"])("img",{key:0,src:s.a,alt:"upvoted",onClick:function(n){return c.upvote(e,t.id)}},null,8,["onClick"])):(Object(o["g"])(),Object(o["c"])("img",{key:1,src:u.a,alt:"upvote",onClick:function(n){return c.upvote(e,t.id)}},null,8,["onClick"])),Object(o["f"])("p",null,Object(o["j"])(t.score),1),-1==t.vote?(Object(o["g"])(),Object(o["c"])("img",{key:2,src:a.a,alt:"downvoted",onClick:function(n){return c.downvote(e,t.id)}},null,8,["onClick"])):(Object(o["g"])(),Object(o["c"])("img",{key:3,src:p.a,alt:"downvote",onClick:function(n){return c.downvote(e,t.id)}},null,8,["onClick"]))]),Object(o["f"])("div",_,[Object(o["f"])("h2",null,[t.editing?(Object(o["g"])(),Object(o["c"])("form",E,[Object(o["m"])(Object(o["f"])("input",{"onUpdate:modelValue":function(e){return t.title=e},style:{width:"300px"}},null,8,["onUpdate:modelValue"]),[[o["k"],t.title]]),Object(o["m"])(Object(o["f"])("input",{"onUpdate:modelValue":function(e){return t.url=e},style:{width:"300px"}},null,8,["onUpdate:modelValue"]),[[o["k"],t.url]]),Object(o["f"])("input",{type:"button",onClick:function(n){return c.editPost(e,t.id)},value:"Edit"},null,8,["onClick"])])):(Object(o["g"])(),Object(o["c"])("a",{key:0,href:t.url},Object(o["j"])(t.title),9,["href"]))]),Object(o["f"])("p",null,[null!=t.commentCount?(Object(o["g"])(),Object(o["c"])("a",{key:0,href:"/p/"+t.id},Object(o["j"])(t.commentCount)+" comments",9,["href"])):Object(o["d"])("",!0),D,Object(o["f"])("a",{href:"#",onClick:function(t){return c.showEditForm(e)}},"edit",8,["onClick"]),J,Object(o["f"])("a",{href:"#",onClick:function(n){return c.deletePost(e,t.id)}},"delete",8,["onClick"]),Object(o["e"])(" | submitted "+Object(o["j"])(c.postedAgo(t.timestamp))+" by ",1),Object(o["f"])("strong",null,Object(o["j"])(c.getOwnerOrAnon(t.owner)),1)])])])})),128))])])}n("159b"),n("b64b"),n("a434");var G=n("bc3a"),W=n.n(G),Y=function(t,e){return Object.keys(t).forEach((function(n){return t[n]=e}))},z={name:"MainPage",created:function(){this.loadLoggedIn(),this.$http=W.a,this.loadPosts()},data:function(){return{posts:[],formShowing:{login:!1,register:!1,addPost:!1},user:null,loginForm:{username:null,password:null},registerForm:{username:null,password:null},addPostForm:{title:null,url:null}}},computed:{loggedIn:function(){return this.user}},methods:{getRequestConfig:function(){return null==this.user?null:{headers:{Username:this.user}}},editPost:function(t,e){var n=this;this.$http.put("http://localhost:8080/posts/".concat(e),{title:this.posts[t].title,url:this.posts[t].url},this.getRequestConfig()).then((function(e){n.posts.splice(t,1,e.data)}))},showEditForm:function(t){this.loggedIn?this.posts[t].editing=!0:alert("Only logged in users can edit their own posts")},deletePost:function(t,e){var n=this;this.loggedIn?this.$http.delete("http://localhost:8080/posts/".concat(e),this.getRequestConfig()).then((function(){n.posts.splice(t,1)})):alert("Only logged in users can delete their own posts")},upvote:function(t,e){var n=this;(this.loggedIn||0==this.posts[t].vote)&&this.$http.put("http://localhost:8080/posts/".concat(e,"/upvote"),null,this.getRequestConfig()).then((function(e){n.posts.splice(t,1,e.data)}))},downvote:function(t,e){var n=this;(this.loggedIn||0==this.posts[t].vote)&&this.$http.put("http://localhost:8080/posts/".concat(e,"/downvote"),null,this.getRequestConfig()).then((function(e){n.posts.splice(t,1,e.data)}))},loadPosts:function(){var t=this;this.$http.get("http://localhost:8080/posts",this.getRequestConfig()).then((function(e){t.posts=e.data.reverse()}))},loadLoggedIn:function(){this.user=this.$cookie.getCookie("user")},submitLogin:function(){var t=this;this.$http.post("http://localhost:8080/users/login",this.loginForm,this.getRequestConfig()).then((function(e){t.login(e.data.username),Y(t.loginForm,null),t.hideForms()})).catch((function(t){alert("User login has failed with error: "+t)}))},submitRegistration:function(){var t=this;this.$http.post("http://localhost:8080/users",this.registerForm,this.getRequestConfig()).then((function(){Y(t.registerForm,null),t.hideForms(),alert("User registration complete!")})).catch((function(t){alert("User registration has failed with error: "+t)}))},submitPost:function(){var t=this;this.$http.post("http://localhost:8080/posts",this.addPostForm,this.getRequestConfig()).then((function(e){Y(t.addPostForm,null),t.posts.push(e.data),t.hideForms()})).catch((function(t){alert("Post submission failed with error: "+t)}))},login:function(t){this.user=t,this.$cookie.setCookie("user",t),this.loadPosts()},logout:function(){this.$cookie.removeCookie("user"),this.user=null,this.loadPosts()},getOwnerOrAnon:function(t){return t||"anonymous"},hideForms:function(){for(var t in this.formShowing)this.formShowing[t]=!1},postedAgo:function(t){var e=Date.parse(t),n=new Date,o=6e4,r=60*o,i=24*r,s=30*i,c=365*i,u=n-e;return u<o?"just now":u<r?Math.round(u/o)+" minutes ago":u<i?Math.round(u/r)+" hours ago":u<s?"approximately "+Math.round(u/i)+" days ago":u<c?"approximately "+Math.round(u/s)+" months ago":"approximately "+Math.round(u/c)+" years ago"}}};n("ce48");z.render=T;var B=z,H={name:"App",components:{MainPage:B}};n("da55");H.render=r;var K=H,N=n("032f"),Q=Object(o["b"])(K);Q.use(N["a"]),Q.mount("#app")},8242:function(t,e,n){t.exports=n.p+"images/downvoted.6eebc72e.png"},8296:function(t,e,n){t.exports=n.p+"images/upvoted.54d067da.png"},aeba:function(t,e,n){t.exports=n.p+"images/downvote.42c4dc38.png"},b096:function(t,e,n){t.exports=n.p+"images/upvote.4999092a.png"},ce48:function(t,e,n){"use strict";n("02c2")},da55:function(t,e,n){"use strict";n("50f2")}});
//# sourceMappingURL=app.e472a3c1.js.map